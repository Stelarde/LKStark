"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function changeAdaptive(){return new Promise((function(e,t){handleResize(),e()}))}function a(e){e().then((function(){setTimeout((function(){document.body.style.opacity=1}),300)}))}function handleResize(){var e=window.innerWidth,t=document.querySelector(".object-map"),r=document.querySelector(".battery-map");t&&(t.style.height="272rem"),r&&(r.style.height="138rem"),document.children[0].style.fontSize=e>1279?e/1920+"px":"0.666667px"}function addFile(e){e.length&&e.forEach((function(e){var t=e.querySelector("input"),r=e.querySelector("div"),a=e.querySelector(".delete-img");t.addEventListener("change",(function(){if(this.files[0]){var e=new FileReader;e.addEventListener("load",(function(){r.style.backgroundImage="url("+e.result+")"}),!1),e.readAsDataURL(this.files[0]),this.files.length&&(a.style.display="block")}})),a.addEventListener("click",(function(){t.value="",r.style.backgroundImage="",a.style.display="none"}))}))}function batteryBarData(e){return{labels:e.labels,datasets:[{data:e.charge,backgroundColor:"rgba(253, 130, 4, 0.6)",order:0},{data:e.discharge,backgroundColor:"rgba(67, 176, 42, 0.6)",order:1},{data:e.area,backgroundColor:"rgba(79, 79, 79, 0.3)",borderColor:"rgba(79, 79, 79, 0.3)",type:"line",fill:!0,order:2}]}}function batteryBarFunc(e,t,r){var a=document.querySelectorAll(".battery-graphics-tabs a");a.length&&a.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),t.data=r,t.update()}function batteryPieFunc(e,t,r){r[0].innerHTML=t.activity.time.charge,r[1].innerHTML=t.activity.time.discharge,r[2].innerHTML=t.activity.time.downtime,e.data.datasets[0].data=t.activity.percent,e.update()}function batteryCyclesFunc(e,t){e[0].innerHTML=t.all,e[1].innerHTML=t.day,e[2].innerHTML=t.partly}function eventClickTabs(e,t,r,a,n,i,c,o){e.addEventListener("click",(function(){batteryBarFunc(this,t,r),batteryPieFunc(a,n,i),batteryCyclesFunc(c,n.cycles)}))}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("body"),t=document.querySelector(".js-gumb");t&&t.addEventListener("click",(function(){e.classList.contains("sidebar-compact")?e.classList.remove("sidebar-compact"):e.classList.add("sidebar-compact")}));var r=document.querySelectorAll(".v-dropdown");r.length&&r.forEach((function(e){if(e){var t=e.querySelector(".v-dropdown-btn");e.querySelector(".v-dropdown-options");t&&(t.addEventListener("click",(function(){e.classList.contains("is-open")?e.classList.remove("is-open"):e.classList.add("is-open")})),document.addEventListener("click",(function(t){t.target.closest(".v-dropdown")||e.classList.remove("is-open")})))}})),window.onresize=function(){return handleResize()},a(changeAdaptive);var n=document.querySelectorAll(".v-select");n.length&&n.forEach((function(e){if(e){var t=e.querySelector(".v-select-value"),r=e.querySelector(".v-select-options").querySelectorAll("a"),a=t.innerText;t.addEventListener("click",(function(){e.classList.contains("is-open")?e.classList.remove("is-open"):e.classList.add("is-open")})),r.forEach((function(r){r.addEventListener("click",(function(r){var n=r.target.innerText;new Promise((function(r,i){t.innerHTML=n,t.innerHTML!==a?e.classList.add("fill"):e.classList.remove("fill"),r(e.classList.remove("is-open"))}))}))})),document.addEventListener("click",(function(t){t.target.closest(".v-select")||e.classList.remove("is-open")}))}}));var i=document.querySelectorAll(".object-resource-wrap");i.length&&i.forEach((function(e){var t=e.querySelector(".object-resource"),r=t.querySelector("span"),a=e.querySelector(".object-resource-value"),n=a.innerText.substring(0,a.innerText.length-1);n>59?t.classList.add("green"):n<60&&n>29?t.classList.add("yellow"):n<30&&t.classList.add("red"),setTimeout((function(){r.style.height=a.innerText}),500)}));var c=document.querySelectorAll(".input.password");c.length&&c.forEach((function(e){var t=e.querySelector(".input-icon"),r=e.querySelector("input");t.addEventListener("click",(function(){"password"==r.getAttribute("type")?(t.classList.add("visible"),r.setAttribute("type","text")):(t.classList.remove("visible"),r.setAttribute("type","password"))}))}));var o=document.querySelector(".header-notifications");if(o){var s=o.querySelector(".header-notifications-btn"),l=o.querySelector(".overlay");s.addEventListener("click",(function(){o.classList.contains("show-notifications")?o.classList.remove("show-notifications"):o.classList.add("show-notifications")})),l.addEventListener("click",(function(e){o.classList.remove("show-notifications")})),document.addEventListener("click",(function(e){e.target.closest(".header-notifications")||o.classList.remove("show-notifications")}))}var d=document.querySelector(".battery-effectiveness");if(d){var u=d.querySelector(".battery-effectiveness-graphic-persent"),y=u.querySelector(".battery-effectiveness-graphic-persent span"),b=d.querySelector(".battery-effectiveness-graphic-arrow svg");d.querySelector(".battery-effectiveness-value-given span"),d.querySelector(".battery-effectiveness-value-received span");setTimeout((function(){b.style.transform="rotate(".concat(180*y.innerHTML/100,"deg)"),y.innerHTML>74?u.classList.add("green-zone"):y.innerHTML>49&&y.innerHTML<75?u.classList.add("yellow-zone"):y.innerHTML>25&&y.innerHTML<50?u.classList.add("orange-zone"):y.innerHTML<26&&u.classList.add("red-zone")}),500)}var p=document.querySelectorAll(".graphics-item"),f={0:[67,16,9],1:[16,9,67],2:[60,16,16],3:[20,54,16],4:[16,13,63]},v=["#FD8204","#43B02A","#4F4F4F"],g=["Работа","Заряд","Простой"],m={maintainAspectRatio:!1,responsive:!0,events:[],plugins:{legend:!1,datalabels:{formatter:function(e,t){return e+"%"},color:"#fff",font:{size:12,family:"Roboto"}}}};if(p.length)for(var h=0;h<=p.length;h++){var L=p[h];if(L){var S=null==L?void 0:L.getContext("2d");new Chart(S,{type:"pie",plugins:[ChartDataLabels],data:{labels:[].concat(g),datasets:[{data:_toConsumableArray(f[h]),backgroundColor:[].concat(v)}]},options:_objectSpread({},m)})}}var w=document.querySelector(".battery-bar"),T=document.querySelector(".battery-pie"),q=document.querySelector(".battery-cycles"),k=document.getElementById("tab-btn-today"),j=document.getElementById("tab-btn-week"),E=document.getElementById("tab-btn-month"),A=document.getElementById("tab-btn-quarter"),C=document.getElementById("tab-btn-year"),_=document.getElementById("tab-btn-all"),H={labels:["00:00","02:00","04:00","06:00","08:00","10:00","12:00","14:00","16:00","18:00","20:00","22:00"],charge:[62,73,49],discharge:[70,6,19],area:[45,2,45,1,44],cycles:{all:4,day:5,partly:4},activity:{percent:[64,35,10],time:{charge:"12 ч 45 мин",discharge:"23 ч 25 мин",downtime:"15 ч 30 мин"}}},M={labels:["05 пн","06 вт","07 ср","08 чт","09 пт","10 сб","11 вс"],charge:[12,45,22,10,34,43],discharge:[45,70,30,10,34,56],area:[23,3,45,55,54],cycles:{all:30,day:2.5,partly:34},activity:{percent:[60,14,25],time:{charge:"22 ч 45 мин",discharge:"13 ч 15 мин",downtime:"5 ч 30 мин"}}},O={labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],charge:[75,33,74,32,5,11,34,76],discharge:[12,45,22,10,34,43,64],area:[23,3,45,55,54],cycles:{all:10,day:2.5,partly:2},activity:{percent:[26,14,22],time:{charge:"2 ч 45 мин",discharge:"3 ч 10 мин",downtime:"15 ч 35 мин"}}},x={labels:["Январь","Февраль","Март"],charge:[50,60,10],discharge:[12,45,22],area:[23,3,45,55,54],cycles:{all:5,day:3,partly:55},activity:{percent:[3,17,51],time:{charge:"2 ч 35 мин",discharge:"3 ч 15 мин",downtime:"15 ч 45 мин"}}},B={labels:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],charge:[10,50,33],discharge:[75,33,74],area:[72,59,74,70,55],cycles:{all:3,day:1,partly:5},activity:{percent:[15,20,20],time:{charge:"12 ч 30 мин",discharge:"3 ч 10 мин",downtime:"14 ч 40 мин"}}},D={labels:["2018","2019","2020","2021"],charge:[10,50,33],discharge:[75,33,74],area:[72,59,74,70,55],cycles:{all:3,day:1,partly:5},activity:{percent:[33,41,11],time:{charge:"1 ч 10 мин",discharge:"39 ч 15 мин",downtime:"14 ч 40 мин"}}};if(T){var I=document.querySelector(".battery-graphics-activity-data .data-work span"),P=document.querySelector(".battery-graphics-activity-data .data-charge span"),F=document.querySelector(".battery-graphics-activity-data .data-stand span"),z=[I,P,F];I.innerHTML=H.activity.time.charge,P.innerHTML=H.activity.time.discharge,F.innerHTML=H.activity.time.downtime;var R=null==T?void 0:T.getContext("2d"),K=new Chart(R,{type:"pie",plugins:[ChartDataLabels],data:{labels:!1,datasets:[{data:_toConsumableArray(H.activity.percent),backgroundColor:[].concat(v)}]},options:_objectSpread({},m)})}if(w)var W=batteryBarData(H),U=batteryBarData(M),G=batteryBarData(O),J=batteryBarData(x),N=batteryBarData(B),Q=batteryBarData(D),V=null==w?void 0:w.getContext("2d"),X=new Chart(V,{type:"bar",data:_objectSpread({},W),options:{responsive:!0,plugins:{legend:!1,title:{display:!0}},scales:{x:{ticks:{font:{size:12,family:"Roboto",weight:500},color:"#828282"}},y:{min:0,max:80,ticks:{font:{size:12,family:"Roboto",weight:500},color:"#E0E0E0"}}}}});if(q){var Y=q.querySelector(".object-cycles-value span"),Z=q.querySelector(".object-cycles-text-day span"),ee=q.querySelector(".object-cycles-text-partly span"),te=[Y,Z,ee];Y.innerHTML=H.cycles.all,Z.innerHTML=H.cycles.day,ee.innerHTML=H.cycles.partly}k&&eventClickTabs(k,X,_objectSpread({},W),K,H,z,te),j&&eventClickTabs(j,X,_objectSpread({},U),K,M,z,te),E&&eventClickTabs(E,X,_objectSpread({},G),K,O,z,te),A&&eventClickTabs(A,X,_objectSpread({},J),K,x,z,te),C&&eventClickTabs(C,X,_objectSpread({},N),K,B,z,te),_&&eventClickTabs(_,X,_objectSpread({},Q),K,D,z,te),$(".popup-link").fancybox({touch:!1,autoFocus:!1})}));